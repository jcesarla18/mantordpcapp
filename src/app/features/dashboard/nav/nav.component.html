<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container">
    <img
      src="../../../assets/image/logo_mantord_oficial.png"
      width="40"
      alt="icono" />
    <a class="navbar-brand">MantordPC</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarText"
      aria-controls="navbarText"
      aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      *ngIf="data$ | async as data"
      class="collapse navbar-collapse"
      id="navbarText">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li *ngFor="let item of data" class="nav-item">
          <a [routerLink]="item.route" class="nav-link">
            {{ item.label }}
            <i class="{{ item.icon }}"></i>
          </a>
          <ul *ngIf="item.children" class="dropdown-menu">
            <li *ngFor="let child of item.children" class="dropdown-item">
              <a class="nav-link" [routerLink]="child.route">
                {{ child.label }} {{ child.icon }}
              </a>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a
            class="nav-link"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false">
            {{ userName() }}
            <i class="bi bi-person-circle"></i>
          </a>
          <ul class="dropdown-menu">
            @if (isAuthenticatedStatus) {
            <li>
              <a class="dropdown-item">
                <i class="bi bi-person-bounding-box fw-bold"></i>
                {{ userEmail() }}
              </a>
            </li>
            <li>
              <a class="dropdown-item">
                <i class="bi bi-person-badge-fill"></i>
                {{ userRol() }}
              </a>
            </li>
            <li>
              <a class="dropdown-item" [routerLink]="['/configuracion']">
                <i class="bi bi-gear-fill"></i>
                Settings
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a href="#" (click)="logout()" class="dropdown-item">
                <i class="bi bi-door-closed-fill"></i>
                Log Out
              </a>
            </li>
            } @else {
            <li>
              <a class="dropdown-item" [routerLink]="['/login']">
                <i class="bi bi-door-open"></i>
                Log In
              </a>
            </li>
            }
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
